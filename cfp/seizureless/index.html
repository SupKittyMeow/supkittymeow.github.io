<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>0 - CFP</title>
  <link
    rel="icon"
    type="image/x-icon"
    href="https://cdn.glitch.global/feac0236-fb39-4a57-a3e5-1a988e2a38e6/Not%20Clicked.png?v=1716070731664"
  />
  <link
    href="https://fonts.googleapis.com/css?family=Roboto"
    rel="stylesheet"
  />
  <style>
    html, body {
      max-width: 100%;
      overflow: hidden;
      margin: 0;
    }

    .button {
      outline: none;
      border: none;
      width: 25%;
      /* if you want it square, use height: 25% too */
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      user-select: none;
      image-rendering: pixelated;
    }

    .points {
      font-family: "Roboto", sans-serif;
      font-weight: 700;
      font-size: 10vw;
      color: white;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      user-select: none;
    }
  </style>
</head>
<body>
  <div
    style="text-align: center"
    ontouchstart="Click()"
    onmousedown="Click()"
  >
    <img
      class="button"
      id="button"
      src="https://cdn.glitch.global/feac0236-fb39-4a57-a3e5-1a988e2a38e6/Not%20Clicked.png?v=1716070731664"
      alt="Click me"
    />
    <div class="points" id="points">0</div>
  </div>

  <script>
    const pointsText = document.getElementById("points");
    const buttonImage = document.getElementById("button");
    const notClicked =
      "https://cdn.glitch.global/feac0236-fb39-4a57-a3e5-1a988e2a38e6/Not%20Clicked.png?v=1716070731664";
    const clicked =
      "https://cdn.glitch.global/feac0236-fb39-4a57-a3e5-1a988e2a38e6/Clicked.png?v=1716070724808";

    let mouseDown = false;

    // prevent drag
    buttonImage.ondragstart = () => false;
    document.addEventListener('contextmenu', e => e.preventDefault());

    window.addEventListener("mousedown", () => {
      mouseDown = true;
      buttonImage.src = clicked;
    });

    window.addEventListener("mouseup", () => {
      if (mouseDown) {
        mouseDown = false;
        givePoints();
      }
    });

    document.addEventListener("keydown", e => {
      if (e.code === "Space") {
        buttonImage.src = clicked;
      }
    });

    document.addEventListener("keyup", e => {
      if (e.code === "Space") givePoints();
    });

    window.onload = () => {
      document.body.style.background = "#00ffff";
      if (localStorage.getItem("Points") === null) {
        localStorage.setItem("Points", 0);
      }
      updateDisplay();
    };

    function givePoints() {
      let pts = parseFloat(localStorage.getItem("Points")) || 0;
      localStorage.setItem("Points", pts + 1);
      updateDisplay();
    }

    function updateDisplay() {
      const pts = localStorage.getItem("Points");
      pointsText.textContent = pts;
      document.title = `${pts} - CFP`;
    }
  </script>
</body>
</html>
